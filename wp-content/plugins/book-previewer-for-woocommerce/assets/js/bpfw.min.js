!function(o){"use strict";var t={init:function(){this.actionFlipBack(),this.actionReadBook(),this.actionZoomIn(),this.actionZoomOut(),this.variation()},actionFlipBack:function(){o(document).on("click",".bpfw-action-flip",function(t){t.preventDefault(),o(".bpfw-flip-wrapper").toggleClass("bpfw-view")})},actionReadBook:function(){o(document).on("click",".bpfw-action-read-book",function(t){t.preventDefault();var i=o(this).attr("href");o.ajax({type:"get",url:i,success:function(t){0<o("#bpfw-popup").length&&o("#bpfw-popup").remove();var a={closeOnBgClick:!0,closeBtnInside:!0,mainClass:"mfp-zoom-in",midClick:!0,items:{src:i,type:"ajax"},callbacks:{ajaxContentAdded:function(){var t=o(window).height()-150;o(".bpfw-popup-content-wrapper").css("height",t)}}};o.magnificPopup.open(a)}})})},actionZoomIn:function(){o(document).on("click",".bpfw-preview-zoom-in",function(t){t.preventDefault();var a=o(".bpfw-popup-content-wrapper").width(),i=o(".bpfw-popup-content").width();i<a&&(i+=100,o(".bpfw-popup-content").css("width",i))})},actionZoomOut:function(){o(document).on("click",".bpfw-preview-zoom-out",function(t){t.preventDefault();var a=o(".bpfw-popup-content").width();600<a&&(a-=100,o(".bpfw-popup-content").css("width",a))})},variation:function(){var i=o(".bpfw-images .bpfw-flip-front img"),r=o(".bpfw-flip-wrapper > img");void 0!==r.attr("src")&&r.attr("data-src",r.attr("src")),void 0!==r.attr("width")&&r.attr("data-width",r.attr("width")),void 0!==r.attr("height")&&r.attr("data-height",r.attr("height")),void 0!==i.attr("src")&&i.attr("data-src",i.attr("src")),void 0!==i.attr("width")&&i.attr("data-width",i.attr("width")),void 0!==i.attr("height")&&i.attr("data-height",i.attr("height")),void 0!==i.attr("sizes")&&i.attr("data-sizes",i.attr("sizes")),void 0!==i.attr("srcset")&&i.attr("data-srcset",i.attr("srcset")),0!==i.length&&0!==r.length&&(o(document).on("found_variation",function(t,a){void 0!==a&&void 0!==a.image&&(void 0!==a.image.src&&(i.attr("src",a.image.src),r.attr("src",a.image.src)),void 0!==a.image.src_w&&(i.attr("width",a.image.src_w),r.attr("width",a.image.src_w)),void 0!==a.image.src_h&&(i.attr("height",a.image.src_h),r.attr("height",a.image.src_h)),void 0!==a.image.sizes&&i.attr("sizes",a.image.sizes),void 0!==a.image.srcset&&i.attr("srcset",a.image.srcset))}),o(document).on("reset_data",function(t){void 0!==r.attr("data-src")&&r.attr("src",r.attr("data-src")),void 0!==r.attr("data-width")&&r.attr("width",r.attr("data-width")),void 0!==r.attr("data-height")&&r.attr("height",r.attr("data-height")),void 0!==i.attr("data-src")&&i.attr("src",i.attr("data-src")),void 0!==i.attr("data-width")&&i.attr("width",i.attr("data-width")),void 0!==i.attr("data-height")&&i.attr("height",i.attr("data-height")),void 0!==i.attr("data-sizes")&&i.attr("sizes",i.attr("data-sizes")),void 0!==i.attr("data-srcset")&&i.attr("srcset",i.attr("data-srcset"))}))}};o(document).ready(function(){t.init()})}(jQuery);