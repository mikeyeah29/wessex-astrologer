var G5_Woocommerce=window.G5_Woocommerce||{};!function(h){"use strict";window.G5_Woocommerce=G5_Woocommerce;var g=h("body"),r=g.hasClass("gf-lazy-load"),s=g.hasClass("rtl");G5_Woocommerce={init:function(){this.processTabs(),this.productCatalogFilter(),this.initFilterAjax(),this.updateAjaxSuccess(),this.initFilterBellow(),this.initPerfectSroll(),this.initSwitchLayout(),this.addToWishlist(),this.addToCart(),this.quickView();var t=h(".woocommerce-product-gallery");0<t.length&&this.singleProductImage(t),this.addCartQuantity(),this.initSingleVideo(),setTimeout(function(){G5_Woocommerce.setCartScrollBar()},500),this.saleCountdown(),this.events(),this.customProductNavPosition(),this.elementorProductNavPosition(),h("select.country_to_state, input.country_to_state").trigger("change"),this.productSize(),this.updateAjaxAuthorSuccess(),this.updateAjaxAuthorAlphabet(),this.authorFilter()},updateAjaxAuthorSuccess:function(){g.on("gf_pagination_ajax_success",function(t,e,i,a){"product_author"===e.settings.taxonomy&&G5_Core.util.setPushState(e.settings.currentPage.url)})},updateAjaxAuthorAlphabet:function(){var n=this,t=h(".widget.widget-author-alphabet"),r=h(".gf-product-authors"),s=t.find(".widget-author-alphabet-content").data("options");0===t.length&&1!==r.length||(n.renderHTMLItemAuthorAlphabet(s,r.find(".gsf-product-author-item")),g.on("gf_pagination_ajax_success",function(t,e,i,a){var o;"product_author"===e.settings.taxonomy&&(e=0<h(a).closest("[data-items-paging]").length&&"none"!==e.settings.post_paging,o=r.find(".gsf-product-authors-inner:not(.owl-carousel)"),e&&(o.imagesLoaded(function(){o.isotope("reloadItems"),o.isotope({filter:"*"})}),n.renderHTMLItemAuthorAlphabet(s,r.find(".gsf-product-author-item"))))}))},renderHTMLItemAuthorAlphabet:function(i,t){var a=this,e=[],o="",n=i.filterType;t.each(function(){e.push(h(this).data(n))}),e=[...new Set(e)],"on"===i.showAll&&(o+='<li class="character-item active"><a class="gsf-link transition03 no-animation" href="*" title="All">All</a></li>'),h.each(e,function(t,e){o+=a.getHTMLItemAuthorAlphabet(i,e)}),h(".widget.widget-author-alphabet .gf-author-alphabet").html(o)},getHTMLItemAuthorAlphabet:function(t,e){return'<li class="character-item">'+('<a class="gsf-link transition03 no-animation" href='+("[data-"+t.filterType+'="'+e+'"]')+' title="'+e+'">'+e+"</a>")+"</li>"},authorFilter:function(){var e=h(".widget-author-alphabet .gf-author-alphabet"),i=h(".gsf-product-authors-inner:not(.owl-carousel)"),t=h(".gsf-product-authors-inner .gf-paging");e.length&&i.length?(t.length<1&&i.each(function(){var t=h(this);t.imagesLoaded(function(){t.isotope({itemSelector:".gsf-product-author-item",layoutMode:"fitRows",isOriginLeft:!s,transitionDuration:"0.8s"})})}),e.each(function(){h(this).on("click","a",function(t){t.preventDefault();t=!0;h(this).closest(".character-item").hasClass("active")&&(t=!1),t&&(t=h(this).attr("href"),i.isotope({filter:t}),e.find(".character-item").removeClass("active"),h("a[href='"+t+"']").closest(".character-item").addClass("active"))})})):e.length&&h(".widget-author-alphabet").remove()},customProductNavPosition:function(){h(".custom-product-nav-position").each(function(){var t=h(this).find("ul.nav-tabs.gf-cate-filter"),e=h(this).find(".vc_column_container:first-child > .vc_column-inner > .wpb_wrapper");t.length&&e.append(t.detach())})},elementorProductNavPosition:function(){h(".custom-el-nav-position").each(function(){var t=h(this).find("ul.nav-tabs.gf-cate-filter"),e=h(this).find(".elementor-inner-section:first-child .elementor-widget-wrap");t.length&&e.append(t.detach())})},updateAjaxSuccess:function(){var o=this;g.on("gf_pagination_ajax_success",function(t,e,i,a){"product"===e.settings.post_type&&(G5_Core.pagination_ajax.updatePageTitle(e,i,a),G5_Core.pagination_ajax.updateSideBar(e,i,a),o.updateAboveCustomize(e,i,a),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown(),g.trigger("gf_woocommerce_ajax_success",[e,i,a]))}),g.on("gf_pagination_ajax_before_update_sidebar",function(t,e,i,a){"product"===e.settings.post_type&&o.initWidgetAjaxSuccess()})},initFilterAjax:function(){h(document).on("click",".gf-price-filter a, .gf-product-sorting a, .gf-attr-filter-content a, .gf-product-category-filter a, .product-categories a,.woocommerce-widget-layered-nav a",function(t){var e=h("[data-archive-wrapper]");0<e.length&&(t.preventDefault(),e=e.data("items-wrapper"),G5_Core.pagination_ajax.loadPosts(e,this))})},initFilterBellow:function(){var t=h("#primary-content"),e=h(".gsf-catalog-filter");e.length&&(e.detach().insertBefore(t),e.removeAttr("hidden")),h(document).off("click",".gf-filter-bellow").on("click",".gf-filter-bellow",function(){h(this).toggleClass("active"),h("#gf-filter-content").slideToggle("500"),G5_Woocommerce.initPerfectSroll()}),h(".gf-filter-type-select").length&&h(".gf-filter-type-select .gf-attr-filter-content").slideUp("100"),h(".gf-product-category-filter-select").length&&h(".gf-product-category-filter-select .gf-product-category-filter").slideUp("100"),h(document).off("click",".gf-filter-type-select .filter-select-open").on("click",".gf-filter-type-select .filter-select-open",function(t){t=h(t.target).closest(".gf-filter-type-select").toggleClass("opened");t.hasClass("opened")?h(".gf-attr-filter-content",t).slideDown("500"):h(".gf-attr-filter-content",t).slideUp("fast")}),h(document).off("click",".gf-product-category-filter-select .gf-filter-open").on("click",".gf-product-category-filter-select .gf-filter-open",function(t){t=h(t.target).closest(".gf-product-category-filter-select").toggleClass("opened");t.hasClass("opened")?h(".gf-product-category-filter",t).slideDown("500"):h(".gf-product-category-filter",t).slideUp("fast")}),h(document).on("click",function(t){h(t.target).closest(".gf-filter-type-select").length||h(".gf-filter-type-select").removeClass("opened").find(".gf-attr-filter-content").slideUp("fast"),h(t.target).closest(".gf-product-category-filter-select").length||h(".gf-product-category-filter-select").removeClass("opened").find(".gf-product-category-filter").slideUp("fast")})},updateAboveCustomize:function(t,e,i){var a=0<h(i).closest("[data-items-paging]").length&&(t.settings.post_paging===G5_Core.pagination_ajax.paging.loadMore||t.settings.post_paging===G5_Core.pagination_ajax.paging.infiniteScroll),i=h(".gsf-catalog-filter");0<i.length&&!a&&void 0!==t.settings.isMainQuery&&!0===t.settings.isMainQuery&&(0<(e=e.find(".gsf-catalog-filter")).length&&(i.replaceWith(e.removeAttr("hidden").prop("outerHTML")),h(".woocommerce-ordering").off("change").on("change","select.orderby",function(){h(this).closest("form").submit()}),h(".gsf-pretty-tabs").each(function(){h(this).gsfPrettyTabs()}),G5_Woocommerce.initPerfectSroll()))},initWidgetAjaxSuccess:function(){this.initPriceFilter()},initPriceFilter:function(){var t,e,i,a;void 0!==h().slider&&(h("input#min_price, input#max_price").hide(),h(".price_slider, .price_label").show(),t=h(".price_slider_amount #min_price").data("min"),e=h(".price_slider_amount #max_price").data("max"),i=h(".price_slider_amount #min_price").val(),a=h(".price_slider_amount #max_price").val(),h(".price_slider:not(.ui-slider)").slider({range:!0,animate:!0,min:t,max:e,values:[i,a],create:function(){h(".price_slider_amount #min_price").val(i),h(".price_slider_amount #max_price").val(a),h(document.body).trigger("price_slider_create",[i,a])},slide:function(t,e){h("input#min_price").val(e.values[0]),h("input#max_price").val(e.values[1]),h(document.body).trigger("price_slider_slide",[e.values[0],e.values[1]])},change:function(t,e){h(document.body).trigger("price_slider_change",[e.values[0],e.values[1]])}}))},initPerfectSroll:function(){h(".gf-product-category-filter-wrap .gf-product-category-filter","#gf-filter-content").perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0})},initSwitchLayout:function(){var o=!1;h(document).on("click",".gf-shop-switch-layout li a",function(t){t.preventDefault();var t=h(this),e=t.data("layout"),i=g.find("[data-archive-wrapper]").find('[data-items-container="true"]'),a=i.find(".gf-paging");t.closest("li").hasClass("active")||o||(o=!0,t.closest(".gf-shop-switch-layout").children("li").removeClass("active"),t.closest("li").addClass("active"),a.fadeOut(),t.waypoint(function(){h(this.element).addClass("wpb_start_animation animated"),this.destroy()}),i.fadeOut(function(){"list"===e?i.removeClass("layout-grid").addClass("layout-list"):i.removeClass("layout-list").addClass("layout-grid"),G5_Core.util.tooltip(),i.fadeIn("slow"),a.fadeIn("slow")}),h.cookie("product_layout",e,{expires:15}),o=!1)})},addToWishlist:function(){h(document).on("click",".add_to_wishlist",function(){var t=h(this),e=t.parent().parent();e.parent().hasClass("single-product-function")||(t.addClass("added-spinner"),void 0!==(e=e.parent().parent().parent().parent())&&e.addClass("active"))}),g.on("added_to_wishlist",function(t,e,i,a){var o,n=h(".added-spinner.add_to_wishlist"),r=n.parent().parent();r.parent().hasClass("single-product-function")||void 0!==(o=r.parent().parent().parent().parent())&&setTimeout(function(){o.removeClass("active"),n.removeClass("added-spinner")},700)})},addToCart:function(){h(document).on("click",".add_to_cart_button",function(){var t=h(this);!t.hasClass("ajax_add_to_cart")||void 0!==(t=t.closest(".product-item-wrap"))&&t.addClass("active")}),g.on("wc_cart_button_updated",function(t,e){var i,a,o,n,r=h(".header-sticky-wrapper .header-sticky"),s=h(".item-shopping-cart",r);e.hasClass("single_add_to_cart_button")||(a=(i=e.parent()).find(".added_to_cart"),o=a.text(),n=i.closest(".product-item-inner"),e.closest(".gf-product-swatched").length||e.remove(),i.data("toggle")&&(a.html('<i class="fa fa-check"></i> '+o),setTimeout(function(){i.tooltip("hide").attr("title",o).tooltip("_fixTitle")},500)),setTimeout(function(){G5_Woocommerce.setCartScrollBar(function(){var t;0<s.length&&(t=0,r.hasClass("header-hidden")&&(r.removeClass("header-hidden"),t=500),setTimeout(function(){s.addClass("show-cart"),setTimeout(function(){s.removeClass("show-cart")},2e3)},t))})},10),setTimeout(function(){n.removeClass("active")},700))}),g.on("removed_from_cart",function(){setTimeout(function(){G5_Woocommerce.setCartScrollBar(),h(document.body).trigger("update_checkout");var t=h('[name="update_cart"]');t.length&&t.removeAttr("disabled").trigger("click")},10)})},setCartScrollBar:function(t){h(".cart_list.product_list_widget").perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),t&&t()},quickView:function(){var p=!1;h(document).on("click",".product-quick-view",function(t){var e,s,c,l,d,u,f;t.preventDefault(),p||(p=!0,t=(e=h(this)).data("product_id"),s="#popup-product-quick-view-wrapper",c=e.find("i"),l=c.attr("class"),d=e.parent().parent().parent().parent(),f=(u=e).hasClass("prev-product")||e.hasClass("next-product"),d.addClass("active"),u.addClass("active"),c.attr("class","fal fa-spinner fa-spin"),h.ajax({url:g5plus_variable.ajax_url,data:{action:"product_quick_view",id:t},success:function(a){d.removeClass("active"),u.removeClass("active"),c.attr("class",l);var o,n,t,e,i,r=h(".modal-body",s);f?(o=h(".modal-content",s),n=h(".product-quickview-navigation",s),o.css({width:o.width(),height:o.height()}),r.fadeOut(function(){r.html(h(".modal-body",a).html()).fadeIn(),n.html(h(".product-quickview-navigation",a).html());var t,e,i=h(".quick-view-product-image",r);void 0!==h.fn.wc_variation_form&&(t=h(s).find(".variations_form"),e=h(s).find(".variations_form .variations select"),t.wc_variation_form(),t.trigger("check_variations"),e.change()),h(s).addClass("in"),void 0!==h.fn.wc_product_gallery&&h(".woocommerce-product-gallery",i).wc_product_gallery(),G5_Woocommerce.singleProductImage(i),G5_Woocommerce.initSingleVideo(),h(s).fadeIn(),setTimeout(function(){o.css({width:"",height:""})},1e3),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown()})):(h(s).length&&h(s).remove(),g.append(a),t=h(".quick-view-product-image",s),void 0!==h.fn.wc_variation_form&&(e=h(s).find(".variations_form"),i=h(s).find(".variations_form .variations select"),e.wc_variation_form(),e.trigger("check_variations"),i.change()),h(s).modal(),void 0!==h.fn.wc_product_gallery&&setTimeout(function(){h(".woocommerce-product-gallery",t).wc_product_gallery(),G5_Woocommerce.singleProductImage(t),G5_Woocommerce.initSingleVideo()},200),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown()),g.trigger("gf_quick_view_success"),G5_Woocommerce.addCartQuantity(),p=!1},error:function(t){p=!1}}))})},saleCountdown:function(){function i(t,e){var i=parseInt(t.offset.seconds),a=parseInt(t.offset.minutes),o=parseInt(t.offset.hours),t=parseInt(t.offset.totalDays);t<10&&(t="0"+t),o<10&&(o="0"+o),a<10&&(a="0"+a),i<10&&(i="0"+i),h(".countdown-day",e).text(t),h(".countdown-hours",e).text(o),h(".countdown-minutes",e).text(a),h(".countdown-seconds",e).text(i)}h(".product-deal-countdown").each(function(){var t=h(this).data("date-end"),e=h(this);e.countdown(t,function(t){i(t,e)}).on("update.countdown",function(t){i(t,e)})}),G5_Woocommerce.saleCountdownWidth()},saleCountdownWidth:function(){h(".product-deal-countdown").each(function(){var t,e;h(this).parents().hasClass("gsf-product-deal")?(t=0,h(this).removeClass("small"),h(".countdown-section",h(this)).each(function(){t+=h(this).innerHeight()+parseInt(h(this).css("margin-top").replace("px",""),10)}),t>h(this).outerHeight()&&h(this).addClass("small")):(e=0,h(this).removeClass("small"),h(".countdown-section",h(this)).each(function(){e+=h(this).outerWidth()+parseInt(h(this).css("margin-right").replace("px",""),10)}),e>h(this).outerWidth()&&h(this).addClass("small"))})},singleProductImage:function(t){var o,n,e=t.find(".flex-control-thumbs"),i=4,a=10;e.length?(e.attr("hidden","hidden"),0!==e.closest(".quick-view-product-image").length&&(i=3,a=10),e.closest(".product-single-layout-01").length?e.on("initialized.owl.carousel",function(t){setTimeout(function(){e.removeAttr("hidden")},500)}).addClass("owl-carousel owl-theme").owlCarousel({nav:!1,dots:!1,rtl:s,lazyLoad:r,responsive:{992:{items:i,margin:a},768:{margin:10},0:{items:3,margin:10}}}):(o=[],n=4,e.removeAttr("hidden"),e.on("init",function(t,e){var i=window.innerWidth;1020<=i&&(n=4),i<1020&&(n=4);for(var a=0;a<n;a++)o.push(a)}),h(window).on("resize load",function(t){var e=window.innerWidth;return 1020<=e&&(n=4),e<1020&&(n=4),n}),e.on("afterChange",function(t,e,i){o.length=0;for(var a=i;a<i+n;a++)o.push(a)}),e.slick({swipeToSlide:!0,infinite:!1,slidesToShow:i,slidesToScroll:2,speed:400,arrows:!1,vertical:!0,verticalSwiping:!0,rtl:s,responsive:[{breakpoint:1200,settings:{slidesToShow:i,vertical:!1,verticalSwiping:!1}},{breakpoint:992,settings:{slidesToShow:3,vertical:!1,verticalSwiping:!1}},{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:576,settings:{slidesToShow:4,vertical:!1,verticalSwiping:!1}},{breakpoint:320,settings:{slidesToShow:3,vertical:!1,verticalSwiping:!1}}]}))):t.closest(".product-single-layout-02").length&&t.addClass("gallery-not-thumbs")},addCartQuantity:function(){h(document).off("click",".quantity .btn-number").on("click",".quantity .btn-number",function(t){t.preventDefault();var e=h(this).data("type"),i=h("input",h(this).parent()),a=parseFloat(i.val()),o=parseFloat(i.attr("max")),n=parseFloat(i.attr("min")),r=parseFloat(i.attr("step")),t=0;0<i.attr("step").indexOf(".")&&(t=i.attr("step").split(".")[1].length),isNaN(o)&&(o=-1),isNaN(n)&&(n=0),isNaN(r)&&(r=1,t=0),isNaN(a)?i.val(n):("minus"==e&&(n<a&&(a=(a-r).toFixed(t),i.val(a).change()),parseFloat(i.val())<=n&&(i.val(n).change(),h(this).attr("disabled",!0))),"plus"==e&&((-1===o||a<o)&&(a=(a+r).toFixed(t),i.val(a).change()),-1!==o&&parseFloat(i.val())>=o&&(i.val(o).change(),h(this).attr("disabled",!0))))}),h("input",".quantity").on("focusin",function(){h(this).data("oldValue",h(this).val())}),h("input",".quantity").on("change",function(){var t=h(this),e=parseFloat(t.attr("max")),i=parseFloat(t.attr("min")),a=parseFloat(t.val()),t=parseFloat(t.attr("step"));isNaN(e)&&(e=-1),isNaN(i)&&(i=0),isNaN(t);t=h(".add_to_cart_button",h(this).parent().parent().parent());i<=a?(h(".btn-number[data-type='minus']",h(this).parent()).removeAttr("disabled"),void 0!==t&&t.attr("data-quantity",a)):(alert("Sorry, the minimum value was reached"),h(this).val(h(this).data("oldValue")),void 0!==t&&t.attr("data-quantity",h(this).data("oldValue"))),-1===e||a<=e?(h(".btn-number[data-type='plus']",h(this).parent()).removeAttr("disabled"),void 0!==t&&t.attr("data-quantity",a)):(alert("Sorry, the maximum value was reached"),h(this).val(h(this).data("oldValue")),void 0!==t&&t.attr("data-quantity",h(this).data("oldValue")))})},initSingleVideo:function(){var t,e,i,a,o,n,r=g.find('[class*="product-single-layout-"]');r.length&&(t=r.find(".flex-control-thumbs"),e=r.find(".woocommerce-product-gallery"),i=r.find(".single-product-video"),a=r.find(".flex-viewport"),i.length&&(o=i.find("iframe"),n=o.attr("src"),h("li",t).on("click",function(){var t;h(this).closest(".owl-item").length&&h(this).closest(".owl-item").is(":last-child")||h(this).is(".slick-slide")&&h(this).is(":last-child")?(o.attr("src",n),e.addClass("product-gallery-video"),t=a.height(),i.find(".embed-responsive").css("height",t+"px")):(e.removeClass("product-gallery-video"),o.attr("src",""))})))},processTabs:function(){h(".gsf-pretty-tabs").each(function(){var t,e=h(this);0<e.closest(".custom-product-row").length&&(t=e.closest(".custom-product-row").find(".gf-heading"),G5_Core.util.isDesktop()?0<t.length&&(t=t.find(".heading-title").outerWidth(),s?e.css("margin-right",t+30):e.css("margin-left",t+30),e.gsfPrettyTabs()):e.css({"margin-left":0,"margin-right":0}))})},productCatalogFilter:function(){h(".gsf-catalog-filter").each(function(){var t=h(this).find(".gsf-catalog-filter-cat-filter");0!==t.length&&(t.closest(".gsf-catalog-filter-item").css("flex","1 0 0%").siblings().css("flex",""),setTimeout(function(){g.find(".gsf-pretty-tabs").gsfPrettyTabs()},10))})},events:function(){var t=null;h(window).on("resize",function(){G5_Woocommerce.saleCountdown(),null!=t&&clearTimeout(t),t=setTimeout(function(){G5_Woocommerce.processTabs(),G5_Woocommerce.productSize()},200)}),h("[data-items-wrapper].products").on("gf_pagination_ajax_success",function(){G5_Woocommerce.productSize()})},productSize:function(){h(".product-item-wrap").each(function(){h(this).removeClass("product-small"),h(this).closest(".layout-list").length||h(this).width()<250&&h(this).addClass("product-small")})}},h(document).ready(function(){G5_Woocommerce.init()})}(jQuery);